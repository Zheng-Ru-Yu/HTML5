<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <canvas id="drawing"></canvas>
    <canvas id="drawing2"></canvas>
    <canvas id="drawing3"></canvas>
    <script>
    fillball("drawing", 60, "greenyellow");
    fillball("drawing2", 40, "red");
    fillball("drawing3", 80, "blue");

    function fillball(id, value, color) {
        var canvas = document.getElementById(id);
        var width = canvas.width = 80;
        var height = canvas.height = 80;
        var count = 0;
        linewidth = 5;
        var interval = 2000 / value;
        R = (width - 2 * linewidth) / 2;
        var context = canvas.getContext('2d');

        function render(context) {

            context.clearRect(0, 0, width, height);
            context.beginPath();
            context.lineWidth = linewidth;
            context.strokeStyle = "#eee";
            context.arc(1 / 2 * width, 1 / 2 * height, R, 0, 2 * Math.PI);
            context.stroke();
            context.closePath();
            context.strokeStyle = color;
            context.beginPath()
            context.arc(1 / 2 * width, 1 / 2 * height, R, Math.PI / 2 - (count * 2 * Math.PI) / 200, Math.PI / 2 + (count * 2 * Math.PI) / 200)
            context.stroke()

            context.font = "bold 15pt Arial"; // 字体大小，样式
            context.fillStyle = color; // 颜色
            context.textAlign = 'center'; // 位置
            context.textBaseline = 'middle';
            context.fillText(count + "%", 1 / 2 * width, 1 / 2 * height);
            if (count < value)
                count++;

        }
        setInterval(function() {
            render(context);
        }, interval);



    }
    </script>
</body>

</html>
